<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>用虚拟机搭建一个小的集群</title>
    <url>/2020/01/07/%E7%94%A8%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%B0%8F%E7%9A%84%E9%9B%86%E7%BE%A4/</url>
    <content><![CDATA[<p><strong>前言：</strong>学习大数据的过程中，完全分布式运行模式至关重要。本篇将记录在使用虚拟机搭建一个小的集群的过程中需要使用到的linux命令。</p>
<h1 id="一、linux关闭防火墙的命令"><a href="#一、linux关闭防火墙的命令" class="headerlink" title="一、linux关闭防火墙的命令"></a>一、linux关闭防火墙的命令</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo service iptables stop</span><br><span class="line">sudo chkconfig iptables off</span><br></pre></td></tr></table></figure>

<h1 id="二、设置静态IP，改主机名"><a href="#二、设置静态IP，改主机名" class="headerlink" title="二、设置静态IP，改主机名"></a>二、设置静态IP，改主机名</h1><p><strong>vim /etc/sysconfig/network-scripts/ifcfg-eth0</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">DEVICE=eth0</span><br><span class="line">TYPE=Ethernet</span><br><span class="line">ONBOOT=yes</span><br><span class="line">BOOTPROTO=static</span><br><span class="line">NAME="eth0"</span><br><span class="line">IPADDR=192.168.5.101</span><br><span class="line">PREFIX=24</span><br><span class="line">GATEWAY=192.168.5.2</span><br><span class="line">DNS1=192.168.5.2</span><br></pre></td></tr></table></figure>

<p><strong>vim /etc/sysconfig/network</strong><br>改HOSTNAME=那一行</p>
<a id="more"></a>

<h1 id="三、配置-etc-hosts"><a href="#三、配置-etc-hosts" class="headerlink" title="三、配置/etc/hosts"></a>三、配置/etc/hosts</h1><p><strong>vim /etc/hosts</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">192.168.1.100  hadoop100</span><br><span class="line">192.168.1.101  hadoop101</span><br><span class="line">192.168.1.102  hadoop102</span><br><span class="line">192.168.1.103  hadoop103</span><br><span class="line">192.168.1.104  hadoop104</span><br></pre></td></tr></table></figure>

<h1 id="四、创建一般用户，配置密码"><a href="#四、创建一般用户，配置密码" class="headerlink" title="四、创建一般用户，配置密码"></a>四、创建一般用户，配置密码</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">useradd hep</span><br><span class="line">passwd 123456</span><br></pre></td></tr></table></figure>
<p>(此处用户名为：hep 密码：123456)</p>
<h1 id="五、配置用户为sudoers"><a href="#五、配置用户为sudoers" class="headerlink" title="五、配置用户为sudoers"></a>五、配置用户为sudoers</h1><p>​    <strong>vim /etc/sudoers</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">root    ALL=(ALL)       ALL</span><br><span class="line">hep     ALL=(ALL)       NOPASSWD:ALL</span><br></pre></td></tr></table></figure>
<p>​    保存时wq!强制保存</p>
<h1 id="六、在-opt目录下创建两个文件夹modulesoftware"><a href="#六、在-opt目录下创建两个文件夹modulesoftware" class="headerlink" title="六、在/opt目录下创建两个文件夹modulesoftware"></a>六、在/opt目录下创建两个文件夹modulesoftware</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mkdir /opt/module /opt/software</span><br><span class="line">chown hep:hep /opt/module /opt/software</span><br></pre></td></tr></table></figure>

<h1 id="七、写一个分发脚本xsync"><a href="#七、写一个分发脚本xsync" class="headerlink" title="七、写一个分发脚本xsync"></a>七、写一个分发脚本xsync</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cd ~</span><br><span class="line">vim xsync</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">=================================================</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"><span class="meta">#</span><span class="bash">1 获取输入参数个数，如果没有参数，直接退出</span></span><br><span class="line">pcount=$#</span><br><span class="line">if ((pcount==0)); then</span><br><span class="line">echo no args;</span><br><span class="line">exit;</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">2 获取文件名称</span></span><br><span class="line">p1=$1</span><br><span class="line">fname=`basename $p1`</span><br><span class="line">echo fname=$fname</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">3 获取上级目录到绝对路径</span></span><br><span class="line">pdir=`cd -P $(dirname $p1); pwd`</span><br><span class="line">echo pdir=$pdir</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">4 获取当前用户名称</span></span><br><span class="line">user=`whoami`</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">5 循环</span></span><br><span class="line">for((host=103; host&lt;105; host++)); do</span><br><span class="line">     echo --------- hadoop$host ----------</span><br><span class="line">        rsync -av $pdir/$fname $user@hadoop$host:$pdir</span><br><span class="line">done</span><br><span class="line">=================================================</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">chmod +x xsync</span><br><span class="line">sudo cp xsync /bin</span><br><span class="line">sudo xsync /bin/xsync</span><br></pre></td></tr></table></figure>
<h1 id="八、配置免密登陆"><a href="#八、配置免密登陆" class="headerlink" title="八、配置免密登陆"></a>八、配置免密登陆</h1><p><img src="/2020/01/07/%E7%94%A8%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%B0%8F%E7%9A%84%E9%9B%86%E7%BE%A4/01.png" alt></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">1.生成密钥对</span><br><span class="line">ssh-keygen -t rsa 三次回车</span><br><span class="line">2. 发送公钥到本机</span><br><span class="line">ssh-copy-id hadoop102 输入一次密码</span><br><span class="line">3. 分别ssh登陆一下所有虚拟机</span><br><span class="line">ssh hadoop103</span><br><span class="line">exit</span><br><span class="line">ssh hadoop104</span><br><span class="line">exit</span><br><span class="line">4. 把/home/atguigu/.ssh 文件夹发送到集群所有服务器</span><br><span class="line">xsync /home/atguigu/.ssh</span><br></pre></td></tr></table></figure>
<h1 id="九、在一台机器上安装Java和Hadoop，并配置环境变量，并分发到集群其他机器"><a href="#九、在一台机器上安装Java和Hadoop，并配置环境变量，并分发到集群其他机器" class="headerlink" title="九、在一台机器上安装Java和Hadoop，并配置环境变量，并分发到集群其他机器"></a>九、在一台机器上安装Java和Hadoop，并配置环境变量，并分发到集群其他机器</h1><h2 id="1-拷贝文件到-opt-software，两个tar包"><a href="#1-拷贝文件到-opt-software，两个tar包" class="headerlink" title="1.拷贝文件到/opt/software，两个tar包"></a>1.拷贝文件到/opt/software，两个tar包</h2><h2 id="2-tar-zxf-h”-tab”-C-opt-module"><a href="#2-tar-zxf-h”-tab”-C-opt-module" class="headerlink" title="2.tar -zxf h”+tab” -C /opt/module"></a>2.tar -zxf h”+tab” -C /opt/module</h2><h2 id="3-tar-zxf-j”-tab”-C-opt-module"><a href="#3-tar-zxf-j”-tab”-C-opt-module" class="headerlink" title="3.tar -zxf j”+tab” -C /opt/module"></a>3.tar -zxf j”+tab” -C /opt/module</h2><h2 id="4-sudo-vim-etc-profile"><a href="#4-sudo-vim-etc-profile" class="headerlink" title="4.sudo vim /etc/profile"></a>4.sudo vim /etc/profile</h2><p>在文件末尾添加</p>
  <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">JAVA_HOME</span></span><br><span class="line">export JAVA_HOME=/opt/module/jdk1.8.0_144</span><br><span class="line">export PATH=$PATH:$JAVA_HOME/bin</span><br><span class="line"><span class="meta">#</span><span class="bash">HADOOP_HOME</span></span><br><span class="line">export HADOOP_HOME=/opt/module/hadoop-2.7.2</span><br><span class="line">export PATH=$PATH:$HADOOP_HOME/bin:$HADOOP_HOME/sbin</span><br></pre></td></tr></table></figure>
<h2 id="5-source-etc-profile"><a href="#5-source-etc-profile" class="headerlink" title="5.source /etc/profile"></a>5.source /etc/profile</h2><h2 id="6-sudo-xsync-etc-profile"><a href="#6-sudo-xsync-etc-profile" class="headerlink" title="6.sudo xsync /etc/profile"></a>6.sudo xsync /etc/profile</h2><h2 id="7-在其他机器分别执行source-etc-profile"><a href="#7-在其他机器分别执行source-etc-profile" class="headerlink" title="7.在其他机器分别执行source /etc/profile"></a>7.在其他机器分别执行source /etc/profile</h2><p>所有配置文件都在$HADOOP_HOME/etc/hadoop</p>
<h1 id="十、首先配置hadoop-env-sh-yarn-env-sh-mapred-env-sh文件"><a href="#十、首先配置hadoop-env-sh-yarn-env-sh-mapred-env-sh文件" class="headerlink" title="十、首先配置hadoop-env.sh,yarn-env.sh,mapred-env.sh文件"></a>十、首先配置hadoop-env.sh,yarn-env.sh,mapred-env.sh文件</h1><p>配置JAVA_HOME,在每个文件第二行添加</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">export JAVA_HOME=/opt/module/jdk1.8.0_144</span><br></pre></td></tr></table></figure>

<h1 id="十一、配置Core-site-xml"><a href="#十一、配置Core-site-xml" class="headerlink" title="十一、配置Core-site.xml"></a>十一、配置Core-site.xml</h1><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 指定HDFS中NameNode的地址 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">name</span>&gt;</span>fs.defaultFS<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">value</span>&gt;</span>hdfs://hadoop102:9000<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 指定Hadoop运行时产生文件的存储目录 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">name</span>&gt;</span>hadoop.tmp.dir<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">value</span>&gt;</span>/opt/module/hadoop-2.7.2/data/tmp<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="十二、配置hdfs-site-xml"><a href="#十二、配置hdfs-site-xml" class="headerlink" title="十二、配置hdfs-site.xml"></a>十二、配置hdfs-site.xml</h1><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 数据的副本数量 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">name</span>&gt;</span>dfs.replication<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">value</span>&gt;</span>3<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 指定Hadoop辅助名称节点主机配置 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>dfs.namenode.secondary.http-address<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>hadoop104:50090<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="十三、配置yarn-site-xml"><a href="#十三、配置yarn-site-xml" class="headerlink" title="十三、配置yarn-site.xml"></a>十三、配置yarn-site.xml</h1><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Site specific YARN configuration properties --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Reducer获取数据的方式 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.nodemanager.aux-services<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>mapreduce_shuffle<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 指定YARN的ResourceManager的地址 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.resourcemanager.hostname<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>hadoop103<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 日志聚集功能使能 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.log-aggregation-enable<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>true<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 日志保留时间设置7天 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.log-aggregation.retain-seconds<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>604800<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="十四、配置mapred-site-xml"><a href="#十四、配置mapred-site-xml" class="headerlink" title="十四、配置mapred-site.xml"></a>十四、配置mapred-site.xml</h1><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>mapreduce.framework.name<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>yarn<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 历史服务器端地址 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>mapreduce.jobhistory.address<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>hadoop104:10020<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 历史服务器web端地址 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>mapreduce.jobhistory.webapp.address<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>hadoop104:19888<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>启动历史服务器：mr-jobhistory-daemon.sh start historyserver</p>
<h1 id="十五、配置Slaves"><a href="#十五、配置Slaves" class="headerlink" title="十五、配置Slaves"></a>十五、配置Slaves</h1><p>hadoop102<br>hadoop103<br>hadoop104</p>
<h1 id="十六、分发配置文件"><a href="#十六、分发配置文件" class="headerlink" title="十六、分发配置文件"></a>十六、分发配置文件</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">xsync /opt/module/hadoop-2.7.2/etc</span><br></pre></td></tr></table></figure>

<h1 id="十七、格式化Namenode-在hadoop102"><a href="#十七、格式化Namenode-在hadoop102" class="headerlink" title="十七、格式化Namenode 在hadoop102"></a>十七、格式化Namenode 在hadoop102</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hdfs namenode -format</span><br></pre></td></tr></table></figure>

<h1 id="十八、启动-停止hdfs"><a href="#十八、启动-停止hdfs" class="headerlink" title="十八、启动/停止hdfs"></a>十八、启动/停止hdfs</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">start-dfs.sh </span><br><span class="line">stop-dfs.sh</span><br></pre></td></tr></table></figure>

<h1 id="十九、启动-停止yarn"><a href="#十九、启动-停止yarn" class="headerlink" title="十九、启动/停止yarn"></a>十九、启动/停止yarn</h1><p>在配置了Resourcemanager机器上执行<br>在Hadoop103上启动start-yarn.sh</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">start-yarn.sh </span><br><span class="line">stop-dfs.sh</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>大数据</category>
      </categories>
      <tags>
        <tag>个人学习笔记</tag>
        <tag>大数据</tag>
        <tag>Hadoop</tag>
        <tag>虚拟机</tag>
      </tags>
  </entry>
  <entry>
    <title>从Hadoop框架学习大数据生态</title>
    <url>/2020/01/02/%E4%BB%8EHadoop%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%94%9F%E6%80%81/</url>
    <content><![CDATA[<p><strong>前言：</strong>现如今，大数据已经在各个领域运用广泛，具有Volume、Velocity、Variety、Value（即大量、高速、多样以及低价值密度）的特点，本文谨记录本人通过Hadoop框架学习大数据生态的过程以及如何在虚拟机上搭建一个简单的Hadoop运行环境，本文仅用于交流学习。图片以及资料来自于各大视频网站以及论坛，如出现表述错误的地方还请各位大佬指正~</p>
<h1 id="一、初识Hadoop"><a href="#一、初识Hadoop" class="headerlink" title="一、初识Hadoop"></a>一、初识Hadoop</h1><h2 id="1-什么是Hadoop"><a href="#1-什么是Hadoop" class="headerlink" title="1.什么是Hadoop"></a>1.什么是Hadoop</h2><p><img src="/2020/01/02/%E4%BB%8EHadoop%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%94%9F%E6%80%81/Hadoop01.png" alt></p>
<h2 id="2-Hadoop发展历史"><a href="#2-Hadoop发展历史" class="headerlink" title="2.Hadoop发展历史"></a>2.Hadoop发展历史</h2><p><img src="/2020/01/02/%E4%BB%8EHadoop%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%94%9F%E6%80%81/Hadoop02.png" alt></p>
<a id="more"></a>

<h2 id="3-Hadoop的优势（4高）"><a href="#3-Hadoop的优势（4高）" class="headerlink" title="3.Hadoop的优势（4高）"></a>3.Hadoop的优势（4高）</h2><p>（1）高可靠性：Hadoop底层维护多个数据副本，所以即使Hadoop某个计算元素或存储出现故障，也不会导致数据的丢失。</p>
<p>（2）高扩展性：在集群间分配任务数据，可方便的扩展数以千计的节点。</p>
<p>（3）高效性：在MapReduce的思想下，Hadoop是并行工作的，以加快任务处理速度。</p>
<p>（4）高容错性：能够自动将失败的任务重新分配。</p>
<h2 id="4-Hadoop组成"><a href="#4-Hadoop组成" class="headerlink" title="4.Hadoop组成"></a>4.Hadoop组成</h2><p><img src="/2020/01/02/%E4%BB%8EHadoop%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%94%9F%E6%80%81/Hadoop03.png" alt></p>
<h3 id="（1-HDFS架构概述"><a href="#（1-HDFS架构概述" class="headerlink" title="（1)HDFS架构概述"></a>（1)HDFS架构概述</h3><ul>
<li><strong>NameNode（nn）</strong>：存储文件的元数据，如文件名，文件目录结构，文件属性（生成时间、副本数、文件权限），以及每个文件的块列表和块所在的DataNode等。</li>
<li><strong>Data Node(dn)</strong>：在本地文件系统存储文件块数据，以及块数据的校验和。</li>
<li><strong>Secondary NameNode(2nn)</strong>：用来监控HDFS状态的辅助后台程序，每隔一段时间获取HDFS元数据的快照。</li>
</ul>
<h3 id="（2-YARN架构概述"><a href="#（2-YARN架构概述" class="headerlink" title="（2)YARN架构概述"></a>（2)YARN架构概述</h3><p><img src="/2020/01/02/%E4%BB%8EHadoop%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%94%9F%E6%80%81/Hadoop04.png" alt></p>
<h3 id="（3）MapReduce架构概述"><a href="#（3）MapReduce架构概述" class="headerlink" title="（3）MapReduce架构概述"></a>（3）MapReduce架构概述</h3><p><img src="/2020/01/02/%E4%BB%8EHadoop%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%94%9F%E6%80%81/Hadoop05.png" alt></p>
<h1 id="二、大数据技术生态体系"><a href="#二、大数据技术生态体系" class="headerlink" title="二、大数据技术生态体系"></a>二、大数据技术生态体系</h1><p><img src="/2020/01/02/%E4%BB%8EHadoop%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%94%9F%E6%80%81/Hadoop06.png" alt></p>
<p><strong>图中涉及的技术名词解释如下：</strong></p>
<ul>
<li><p><strong>Sqoop：</strong>Sqoop是一款开源的工具，主要用于在Hadoop、Hive与传统的数据库(MySql)间进行数据的传递，可以将一个关系型数据库（例如 ：MySQL，Oracle 等）中的数据导进到Hadoop的HDFS中，也可以将HDFS的数据导进到关系型数据库中。</p>
</li>
<li><p><strong>Flume：</strong>Flume是Cloudera提供的一个高可用的，高可靠的，分布式的海量日志采集、聚合和传输的系统，Flume支持在日志系统中定制各类数据发送方，用于收集数据；同时，Flume提供对数据进行简单处理，并写到各种数据接受方（可定制）的能力。</p>
</li>
<li><p><strong>Kafka：</strong>Kafka是一种高吞吐量的分布式发布订阅消息系统，有如下特性：</p>
<p>（1）通过O(1)的磁盘数据结构提供消息的持久化，这种结构对于即使数以TB的消息存储也能够保持长时间的稳定性能。</p>
<p>（2）高吞吐量：即使是非常普通的硬件Kafka也可以支持每秒数百万的消息。</p>
<p>（3）支持通过Kafka服务器和消费机集群来分区消息。</p>
<p>（4）支持Hadoop并行数据加载。</p>
</li>
<li><p><strong>Storm：</strong>Storm用于“连续计算”，对数据流做连续查询，在计算时就将结果以流的形式输出给用户。</p>
</li>
<li><p><strong>Spark：</strong>Spark是当前最流行的开源大数据内存计算框架。可以基于Hadoop上存储的大数据进行计算。</p>
</li>
<li><p><strong>Oozie：</strong>Oozie是一个管理Hdoop作业（job）的工作流程调度管理系统。</p>
</li>
<li><p><strong>Hbase：</strong>HBase是一个分布式的、面向列的开源数据库。HBase不同于一般的关系数据库，它是一个适合于非结构化数据存储的数据库。</p>
</li>
<li><p><strong>Hive：</strong>Hive是基于Hadoop的一个数据仓库工具，可以将结构化的数据文件映射为一张数据库表，并提供简单的SQL查询功能，可以将SQL语句转换为MapReduce任务进行运行。 其优点是学习成本低，可以通过类SQL语句快速实现简单的MapReduce统计，不必开发专门的MapReduce应用，十分适合数据仓库的统计分析。</p>
</li>
<li><p><strong>R语言</strong>：R是用于统计分析、绘图的语言和操作环境。R是属于GNU系统的一个自由、免费、源代码开放的软件，它是一个用于统计计算和统计制图的优秀工具。</p>
</li>
<li><p><strong>Mahout：</strong>Apache Mahout是个可扩展的机器学习和数据挖掘库。</p>
</li>
<li><p><strong>ZooKeeper：</strong>Zookeeper是Google的Chubby一个开源的实现。它是一个针对大型分布式系统的可靠协调系统，提供的功能包括：配置维护、名字服务、 分布式同步、组服务等。ZooKeeper的目标就是封装好复杂易出错的关键服务，将简单易用的接口和性能高效、功能稳定的系统提供给用户。</p>
</li>
</ul>
<h1 id="三、Hadoop运行环境搭建"><a href="#三、Hadoop运行环境搭建" class="headerlink" title="三、Hadoop运行环境搭建"></a>三、Hadoop运行环境搭建</h1><h2 id="1-Hadoop下载"><a href="#1-Hadoop下载" class="headerlink" title="1.Hadoop下载"></a>1.Hadoop下载</h2><p>Hadoop下载地址：<a href="https://archive.apache.org/dist/hadoop/common/hadoop-2.7.2/" target="_blank" rel="noopener">https://archive.apache.org/dist/hadoop/common/hadoop-2.7.2/</a></p>
<p>由于我是运行在虚拟机（CentOs）上，故用XShell或SecureCRT工具将hadoop-2.7.2.tar.gz导入到opt目录下面的software文件夹下面。</p>
<h2 id="2-进入到Hadoop安装包路径下"><a href="#2-进入到Hadoop安装包路径下" class="headerlink" title="2.进入到Hadoop安装包路径下"></a>2.进入到Hadoop安装包路径下</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[hep@hadoop101 ~]$ cd /opt/software/</span><br></pre></td></tr></table></figure>

<h2 id="3-解压安装文件到-opt-module下面"><a href="#3-解压安装文件到-opt-module下面" class="headerlink" title="3.解压安装文件到/opt/module下面"></a>3.解压安装文件到/opt/module下面</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[hep@hadoop101 software]$ tar -zxvf hadoop-2.7.2.tar.gz -C /opt/module/</span><br></pre></td></tr></table></figure>

<h2 id="4-查看是否解压成功"><a href="#4-查看是否解压成功" class="headerlink" title="4.查看是否解压成功"></a>4.查看是否解压成功</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[hep@hadoop101 software]$ ls /opt/module/</span><br><span class="line">hadoop-2.7.2</span><br></pre></td></tr></table></figure>

<h2 id="5-将Hadoop添加到环境变量"><a href="#5-将Hadoop添加到环境变量" class="headerlink" title="5.将Hadoop添加到环境变量"></a>5.将Hadoop添加到环境变量</h2><h3 id="1-获取Hadoop安装路径"><a href="#1-获取Hadoop安装路径" class="headerlink" title="(1)获取Hadoop安装路径"></a>(1)获取Hadoop安装路径</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[hep@hadoop101 hadoop-2.7.2]$ pwd</span><br><span class="line">/opt/module/hadoop-2.7.2</span><br></pre></td></tr></table></figure>

<h3 id="2-打开-etc-profile文件"><a href="#2-打开-etc-profile文件" class="headerlink" title="(2)打开/etc/profile文件"></a>(2)打开/etc/profile文件</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[hep@hadoop101 hadoop-2.7.2]$ sudo vim /etc/profile</span><br></pre></td></tr></table></figure>

<h3 id="3-在profile文件末尾添加JDK路径"><a href="#3-在profile文件末尾添加JDK路径" class="headerlink" title="(3)在profile文件末尾添加JDK路径"></a>(3)在profile文件末尾添加JDK路径</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">#HADOOP_HOME</span></span></span><br><span class="line">export HADOOP_HOME=/opt/module/hadoop-2.7.2</span><br><span class="line">export PATH=$PATH:$HADOOP_HOME/bin</span><br><span class="line">export PATH=$PATH:$HADOOP_HOME/sbin</span><br></pre></td></tr></table></figure>

<h3 id="4-让修改后的文件生效"><a href="#4-让修改后的文件生效" class="headerlink" title="(4)让修改后的文件生效"></a>(4)让修改后的文件生效</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[hep@ hadoop101 hadoop-2.7.2]$ source /etc/profile</span><br></pre></td></tr></table></figure>

<h3 id="5-测试是否安装成功"><a href="#5-测试是否安装成功" class="headerlink" title="(5)测试是否安装成功"></a>(5)测试是否安装成功</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[hep@hadoop101 hadoop-2.7.2]$ hadoop version</span><br><span class="line">Hadoop 2.7.2</span><br></pre></td></tr></table></figure>

<h2 id="6-了解Hadoop的目录结构"><a href="#6-了解Hadoop的目录结构" class="headerlink" title="6.了解Hadoop的目录结构"></a>6.了解Hadoop的目录结构</h2><ul>
<li><p><strong>bin目录：</strong>存放对Hadoop相关服务（HDFS,YARN）进行操作的脚本</p>
</li>
<li><p><strong>etc目录：</strong>Hadoop的配置文件目录，存放Hadoop的配置文件</p>
</li>
<li><p><strong>lib目录：</strong>存放Hadoop的本地库（对数据进行压缩解压缩功能）</p>
</li>
<li><p><strong>sbin目录：</strong>存放启动或停止Hadoop相关服务的脚本</p>
</li>
<li><p><strong>share目录：</strong>存放Hadoop的依赖jar包、文档、和官方案例</p>
</li>
</ul>
<h1 id="四、结语"><a href="#四、结语" class="headerlink" title="四、结语"></a>四、结语</h1><p>至此，已经粗略通过对Hadoop框架的学习大致了解了大数据的生态，Hadoop的环境也已经搭好。接下来将对hdfs、yarn以及mapreduce进行深入的了解。</p>
]]></content>
      <categories>
        <category>大数据</category>
      </categories>
      <tags>
        <tag>个人学习笔记</tag>
        <tag>大数据</tag>
        <tag>Hadoop</tag>
      </tags>
  </entry>
  <entry>
    <title>Markdown笔记</title>
    <url>/2019/12/31/Markdown%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<p><strong>前言：</strong>Markdown一种可以使用普通文本编辑器编写的标记语言，通过简单的标记语法，它可以使普通文本内容具有一定的格式。本文主要记录Markdown的一些基本语法。</p>
<h2 id="1-标题"><a href="#1-标题" class="headerlink" title="1.标题"></a>1.标题</h2><h3 id="1-语法格式"><a href="#1-语法格式" class="headerlink" title="(1)语法格式"></a>(1)语法格式</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="section">#(空格)一级标题</span></span><br><span class="line"><span class="section">##(空格)二级标题</span></span><br><span class="line"><span class="section">###(空格)三级标题</span></span><br><span class="line"><span class="section">####(空格)四级标题</span></span><br><span class="line"><span class="section">#####(空格)五级标题</span></span><br><span class="line"><span class="section">######(空格)六级标题</span></span><br></pre></td></tr></table></figure>

<h3 id="2-效果图"><a href="#2-效果图" class="headerlink" title="(2)效果图"></a>(2)效果图</h3><img src="/2019/12/31/Markdown%E7%AC%94%E8%AE%B0/markdown_01.png" style="zoom:50%;">

<a id="more"></a>

<h2 id="2-字体样式"><a href="#2-字体样式" class="headerlink" title="2.字体样式"></a>2.字体样式</h2><h3 id="1-语法格式-1"><a href="#1-语法格式-1" class="headerlink" title="(1)语法格式"></a>(1)语法格式</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="strong">**加粗的语言**</span></span><br><span class="line">~~被删除的文字~~</span><br><span class="line"><span class="emphasis">*斜体内容*</span></span><br></pre></td></tr></table></figure>

<h3 id="2-效果图-1"><a href="#2-效果图-1" class="headerlink" title="(2)效果图"></a>(2)效果图</h3><p><strong>加粗的语言</strong><br><del>被删除的文字</del><br><em>斜体内容*</em></p>
<h2 id="3-引用"><a href="#3-引用" class="headerlink" title="3.引用"></a>3.引用</h2><h3 id="1-语法格式-2"><a href="#1-语法格式-2" class="headerlink" title="(1)语法格式"></a>(1)语法格式</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&gt;一级引用</span><br><span class="line">&gt;&gt;二级引用</span><br><span class="line">&gt;&gt;&gt;三级引用</span><br></pre></td></tr></table></figure>

<h3 id="2-效果图-2"><a href="#2-效果图-2" class="headerlink" title="(2)效果图"></a>(2)效果图</h3><blockquote>
<p>一级引用</p>
<blockquote>
<p>二级引用</p>
<blockquote>
<p>三级引用</p>
</blockquote>
</blockquote>
</blockquote>
<h2 id="4-分割线"><a href="#4-分割线" class="headerlink" title="4.分割线"></a>4.分割线</h2><h3 id="1-语法格式-3"><a href="#1-语法格式-3" class="headerlink" title="(1)语法格式"></a>(1)语法格式</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">---分割线1</span><br><span class="line"><span class="emphasis">***</span>分割线2</span><br></pre></td></tr></table></figure>

<h3 id="2-效果图-3"><a href="#2-效果图-3" class="headerlink" title="(2)效果图"></a>(2)效果图</h3><hr>
<hr>
<h2 id="5-图片插入"><a href="#5-图片插入" class="headerlink" title="5.图片插入"></a>5.图片插入</h2><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">!(我的照片)[图片路径]</span><br></pre></td></tr></table></figure>

<p><img src="/2019/12/31/Markdown%E7%AC%94%E8%AE%B0/markdown_02.png" alt></p>
<h2 id="6-超链接"><a href="#6-超链接" class="headerlink" title="6.超链接"></a>6.超链接</h2><h3 id="1-语法格式-4"><a href="#1-语法格式-4" class="headerlink" title="(1)语法格式"></a>(1)语法格式</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">[链接名称]（链接地址）</span><br></pre></td></tr></table></figure>

<h3 id="2-效果图-4"><a href="#2-效果图-4" class="headerlink" title="(2)效果图"></a>(2)效果图</h3><p><a href="https://www.baidu.com" target="_blank" rel="noopener">百度一下</a></p>
<h2 id="7-代码块"><a href="#7-代码块" class="headerlink" title="7.代码块"></a>7.代码块</h2><h3 id="1-语法格式-5"><a href="#1-语法格式-5" class="headerlink" title="(1)语法格式"></a>(1)语法格式</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">​<span class="code">```</span>代码语言（java）</span><br></pre></td></tr></table></figure>

<h3 id="2-效果图-5"><a href="#2-效果图-5" class="headerlink" title="(2)效果图"></a>(2)效果图</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.math.BigDecimal;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestBody;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestParam;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"><span class="keyword">import</span> com.cetccity.se.school.operation.center.api.EventApi;</span><br><span class="line"><span class="keyword">import</span> com.cetccity.se.school.operation.center.service.EventService;</span><br><span class="line"><span class="keyword">import</span> com.cetccity.common.base.util.BeanUtil;</span><br><span class="line"><span class="keyword">import</span> com.cetccity.se.school.operation.center.vo.EventVo;</span><br><span class="line"><span class="keyword">import</span> com.cetccity.se.school.operation.center.vo.ResponseVo;</span><br><span class="line"><span class="keyword">import</span> com.cetccity.se.school.operation.center.vo.SelectValueVo;</span><br><span class="line"><span class="keyword">import</span> com.cetccity.common.base.vo.PageVo;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EventController</span> <span class="keyword">implements</span> <span class="title">EventApi</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Autowired</span></span><br><span class="line">	EventService eventService;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> PageVo&lt;EventVo&gt; <span class="title">queryEvent</span><span class="params">(@RequestBody(required=<span class="keyword">false</span>)</span> EventVo vo)</span>&#123;</span><br><span class="line">		List&lt;EventVo&gt; list = eventService.queryEvent(vo);</span><br><span class="line">		<span class="keyword">return</span> BeanUtil.page(list);	</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">addEvent</span><span class="params">(@RequestBody EventVo vo)</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> eventService.addEvent(vo);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> EventVo <span class="title">findEventById</span><span class="params">(@RequestParam(<span class="string">"id"</span>)</span> Long id)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> eventService.findEventById(id);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">updateEventById</span><span class="params">(@RequestBody EventVo vo)</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> eventService.updateEventById(vo);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">delEventById</span><span class="params">(@RequestParam(<span class="string">"id"</span>)</span> Long id)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> eventService.delEventById(id);</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<h2 id="8-列表"><a href="#8-列表" class="headerlink" title="8.列表"></a>8.列表</h2><h3 id="1-语法格式-6"><a href="#1-语法格式-6" class="headerlink" title="(1)语法格式"></a>(1)语法格式</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">-(空格)无序列表目录1</span><br><span class="line"> -(空格)无序列表目录2</span><br><span class="line">  -(空格)无序列表目录3</span><br><span class="line"></span><br><span class="line">1.有序列表目录1</span><br><span class="line">2.有序列表目录2</span><br><span class="line">3.有序列表目录3</span><br></pre></td></tr></table></figure>

<h3 id="2-效果图-6"><a href="#2-效果图-6" class="headerlink" title="(2)效果图"></a>(2)效果图</h3><ul>
<li>无序列表目录1<ul>
<li>无序列表目录2<ul>
<li>无序列表目录3</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>1.有序列表目录1<br>2.有序列表目录2<br>3.有序列表目录3</p>
<h2 id="9-表格"><a href="#9-表格" class="headerlink" title="9.表格"></a>9.表格</h2><h3 id="1-语法格式-7"><a href="#1-语法格式-7" class="headerlink" title="(1)语法格式"></a>(1)语法格式</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">| 姓名 | 学号 | 成绩 |</span><br><span class="line">| :--: | :--: | :--: |</span><br><span class="line">|      |      |      |</span><br><span class="line">|      |      |      |</span><br><span class="line">|      |      |      |</span><br></pre></td></tr></table></figure>

<h3 id="2-效果图-7"><a href="#2-效果图-7" class="headerlink" title="(2)效果图"></a>(2)效果图</h3><table>
<thead>
<tr>
<th align="center">姓名</th>
<th align="center">学号</th>
<th align="center">成绩</th>
</tr>
</thead>
<tbody><tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Markdown</category>
      </categories>
      <tags>
        <tag>Markdown</tag>
        <tag>基本语法</tag>
        <tag>个人学习笔记</tag>
      </tags>
  </entry>
</search>
